<template><!--    富文本编辑器封装组件-->    <div>        <div id="edit" ref="edit">        </div>    </div></template><script>    //1.引入富文本编辑器    import E from 'wangeditor';    import {IMGURL,URL} from "../../lib/base";    export default {        name: "RichText",        props:{            menus:{                type:Array,                default:function () {                    return [[                        'head',  // 标题                        'bold',  // 粗体                        'fontSize',  // 字号                        'fontName',  // 字体                        'italic',  // 斜体                        'underline',  // 下划线                        'strikeThrough',  // 删除线                        'foreColor',  // 文字颜色                        'backColor',  // 背景颜色                        'link',  // 插入链接                        'list',  // 列表                        'justify',  // 对齐方式                        'quote',  // 引用                        'emoticon',  // 表情                        'image',  // 插入图片                        'table',  // 表格                        'video',  // 插入视频                        'code',  // 插入代码                        'undo',  // 撤销                        'redo'  // 重复                    ]]                }            },            value:{                type:String            },            fieldname:{                type:String            }        },        data(){            return {                IMGURL,                uploadUrl:URL +'/admin/Upload/index'            }        },        methods:{            initRichText(){                //2.实例化                let editor = new E (this.$refs.edit);                let that = this;                //3. 配置                editor.customConfig.showLinkImg = false;                editor.customConfig.menus = this.menus;                //64位图片需要解析                //editor.customConfig.uploadImgShowBase64 = true;                //上传图片到服务器 但是这两种函数不能够同时使用                editor.customConfig.uploadImgServer = this.uploadUrl;                editor.customConfig.uploadFileName = 'file';                //上传图片监听                editor.customConfig.uploadImgHooks = {                    customInsert: function (insertImg, result) {                        let url = that.IMGURL+result.imagepath;                        insertImg(url);                    }                }                //监听事件 赋值                editor.customConfig.onchange =(html)=>{                    this.$emit('rich-change',html,this.fieldname);                }                editor.create();                //默认文本配置                this.value&&editor.txt.html(this.value);            }        },        mounted() {            this.initRichText();        }    }</script><style scoped></style>