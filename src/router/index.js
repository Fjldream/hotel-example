//import Vue from 'vue'import VueRouter from 'vue-router'Vue.use(VueRouter);//定义的组件引入import Login from "@/views/Login.vue";import Main from "@/views/main/Main.vue"import List from "@/views/main/List";import AddCategory from "@/views/main/category/Add";import ShowCategory from "@/views/main/category/index";import EditCategory from "../views/main/category/edit";import EditPass from "../views/main/EditPass";import homeStay from "../views/main/homestay/addHomestay";import homestayIndex from "../views/main/homestay/homestayIndex";import editHomestay from "../views/main/homestay/editHomestay";import Echarts from "../views/main/echarts/echarts";//定义路由let router = new VueRouter({    routes: [        {            path: '/', component: Main, name: "index",            redirect:'/echarts',            meta: {                auth: true,title:"首页"            },children:[                {path:'addcategory',component:AddCategory,name:'addcategory',meta:{auth:true,title:'添加分类'}},                {path: 'showcategory',component: ShowCategory,name:'showcategory',meta:{auth:true,title:'显示分类'}},                {path: 'editcategory',component: EditCategory,name:'editcategory',meta:{auth:true,title:'编辑分类'}},                {path: 'editPass',component: EditPass,name:'editPassword',meta: {auth: true,title:'修改密码'} },                {path: 'addhomestay',component: homeStay,name:'homestay',meta: {auth: true,title:'民宿添加'} },                {path:'showhomestay',component:homestayIndex,name:'showhomestay',meta: {auth: true,title:'民宿列表'}},                //动态路由                {path: 'edithomestay/:hid',component: editHomestay,name:'edithomestay',meta: {auth: true,title:'民宿编辑'}},                {path: 'echarts',component: Echarts,name:'echarts',meta: {auth: true,title:'数据库可视化'}},            ]        },        {            path: '/login', component: Login, name: "login", meta: {                auth: false,title:'登录'            }        },        {            path: '/list', component: List,name:"list", meta: {                auth: true,title:'列表'            }        }    ]})// 全局导航守卫 路由独享{path:'/',component:Main,name:"index",beforeEach({})}, 组件内部守卫/** 1.监听路由变化* 2. to 路由源信息 meta  auth* router.beforeEach（）一般用来做一些进入页面的限制。* */router.beforeEach((to, from, next) => {    let title = to.meta.title||'首页';    //设置页面标题    document.title=title;    if (to.meta.auth) {        let token = sessionStorage.getItem('token');        token=token&&token.trim();        if (token){            next();        }else{            next({name:'login',query:{redirect:to.name}})        }    } else {        next();    }     // console.log("to", to);     // console.log("from", from);})export default router;